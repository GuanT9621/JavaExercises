# 原子操作

### 物理层面
1. 通过总线锁保证原子性
2. 通过缓存锁保证原子性
   1. 数据不存于缓存中，或数据跨多个缓存行，则CPU会锁总线
   2. 某些CPU不支持锁缓存，只能锁总线

### JVM层面
1. 使用循环CAS来实现原子操作
   1. 存在ABA问题
   2. 循环时间长开销大
   3. 只能保证一个共享变量的原子操作
2. 使用锁机制实现原子操作